'use strict';

var test = require('tape');

var dateFormatter = require('../');

test('datetime', function(assert) {
    assert.plan(2);

    var date = new Date(1997, 6, 6, 9, 2, 3, 45);
    var f1 = 'YYYY-MM-DDThh:mm:ss.S';
    var f2 = 'YYYY-M-DTh:m:s.S';

    assert.equal(dateFormatter(date, f1), '1997-07-06T09:02:03.45');
    assert.equal(dateFormatter(date, f2), '1997-7-6T9:2:3.45');
});

test('timezone', function(assert) {
    assert.plan(3);

    var format = 'O';
    var date = new Date();

    date.getTimezoneOffset = function() { return 0; };
    assert.equal(dateFormatter(date, format), 'Z');

    date.getTimezoneOffset = function() { return 480; };
    assert.equal(dateFormatter(date, format), '-08:00');

    date.getTimezoneOffset = function() { return -480; };
    assert.equal(dateFormatter(date, format), '+08:00');
});
